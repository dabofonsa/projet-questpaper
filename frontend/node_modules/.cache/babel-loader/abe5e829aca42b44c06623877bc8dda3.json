{"ast":null,"code":"var _jsxFileName = \"/Users/carnelmegbleto/Desktop/questpaper/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport Login from \"./Pages/Login\";\nimport Home from \"./Pages/Home\";\nimport Registration from \"./Pages/Registration\";\nimport Profile from \"./Pages/Profile\";\nimport Upload from \"./Pages/Upload\";\nimport Offers from \"./Pages/Offers\";\nimport CookieConsent from \"react-cookie-consent\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport { useSelector } from \"react-redux\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\nimport { situation } from \"../src/features/Login\";\nimport { useDispatch } from \"react-redux\";\nimport Nav from \"./components/Nav\";\nimport Footer from \"./components/Footer\";\nimport Secondary from \"./Pages/Secondary\";\nimport Membership from \"./Pages/Membership\";\nimport Success from \"./Pages/Success\";\nimport Failed from \"./Pages/Failed\";\nimport NotFound from \"./Pages/NotFound\";\nimport Corriger from \"./Pages/Corriger\";\nimport Consultation from \"./Pages/Consultation\";\nimport Uploadcore from \"./Pages/Uploadcore\";\nimport { isExpired, decodeToken } from \"react-jwt\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst token = localStorage.getItem(\"token\"); //import Cookies from 'js-cookie';\n\nfunction App() {\n  _s();\n\n  const isMyTokenExpired = isExpired(token);\n  const loginStatus = useSelector(state => state.login.value);\n  const dispatch = useDispatch();\n  let history = useHistory();\n  const location = useLocation();\n  useEffect(() => {\n    console.log(isMyTokenExpired); //const token = localStorage.getItem(\"token\");\n\n    if (isExpired === \"false\") {\n      dispatch(situation(true));\n      history.push(location.pathname);\n    } else {\n      dispatch(situation(false));\n    }\n  }, [isExpired]); // useEffect(() =>{\n  //   const cookie = Cookies.get('loggedIn')\n  //   if(cookie){\n  //     dispatch(situation(true));\n  //     history.push(location.pathname)\n  //   }else{\n  //     dispatch(situation(false));\n  //   }\n  // },[])\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/login\",\n        component: Login\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/register\",\n        component: Registration\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/profile\",\n        isAuth: loginStatus,\n        component: Profile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/upload\",\n        isAuth: loginStatus,\n        component: Upload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/offers\",\n        isAuth: loginStatus,\n        component: Offers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/secondary\",\n        isAuth: loginStatus,\n        component: Secondary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/membership\",\n        isAuth: loginStatus,\n        component: Membership\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/success\",\n        isAuth: loginStatus,\n        component: Success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/failed\",\n        isAuth: loginStatus,\n        component: Failed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/corriger\",\n        isAuth: loginStatus,\n        component: Corriger\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/consultation\",\n        isAuth: loginStatus,\n        component: Consultation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        exact: true,\n        path: \"/upcorriger\",\n        isAuth: loginStatus,\n        component: Uploadcore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        component: NotFound\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CookieConsent, {\n      location: \"bottom\",\n      style: {\n        background: \"#2B373B\"\n      },\n      buttonText: \"Je Comprends !\",\n      debug: true,\n      children: \"Ce site utillise des cookies pour une meilleur experience utillisateurs.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"zMxd21hnLwHkAKUKRTU2ms7hLIw=\", false, function () {\n  return [useSelector, useDispatch, useHistory, useLocation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/carnelmegbleto/Desktop/questpaper/frontend/src/App.js"],"names":["React","useEffect","Login","Home","Registration","Profile","Upload","Offers","CookieConsent","ProtectedRoute","useSelector","Route","Switch","useHistory","useLocation","situation","useDispatch","Nav","Footer","Secondary","Membership","Success","Failed","NotFound","Corriger","Consultation","Uploadcore","isExpired","decodeToken","token","localStorage","getItem","App","isMyTokenExpired","loginStatus","state","login","value","dispatch","history","location","console","log","push","pathname","background"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Login from \"./Pages/Login\";\nimport Home from \"./Pages/Home\";\nimport Registration from \"./Pages/Registration\";\nimport Profile from \"./Pages/Profile\";\nimport Upload from \"./Pages/Upload\";\nimport Offers from \"./Pages/Offers\";\nimport CookieConsent from \"react-cookie-consent\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport { useSelector } from \"react-redux\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\nimport { situation } from \"../src/features/Login\";\nimport { useDispatch } from \"react-redux\";\nimport Nav from \"./components/Nav\";\nimport Footer from \"./components/Footer\";\nimport Secondary from \"./Pages/Secondary\";\nimport Membership from \"./Pages/Membership\";\nimport Success from \"./Pages/Success\";\nimport Failed from \"./Pages/Failed\";\nimport NotFound from \"./Pages/NotFound\";\nimport Corriger from \"./Pages/Corriger\";\nimport Consultation from \"./Pages/Consultation\";\nimport Uploadcore from \"./Pages/Uploadcore\";\nimport { isExpired, decodeToken } from \"react-jwt\";\nconst token = localStorage.getItem(\"token\");\n//import Cookies from 'js-cookie';\n\nfunction App() {\n  const isMyTokenExpired = isExpired(token);\n  const loginStatus = useSelector((state) => state.login.value);\n\n  const dispatch = useDispatch();\n  let history = useHistory();\n\n  const location = useLocation();\n\n  useEffect(() => {\n    console.log(isMyTokenExpired);\n    //const token = localStorage.getItem(\"token\");\n    if (isExpired === \"false\") {\n      dispatch(situation(true));\n      history.push(location.pathname);\n    } else {\n      dispatch(situation(false));\n    }\n  }, [isExpired]);\n\n  // useEffect(() =>{\n  //   const cookie = Cookies.get('loggedIn')\n  //   if(cookie){\n  //     dispatch(situation(true));\n  //     history.push(location.pathname)\n  //   }else{\n  //     dispatch(situation(false));\n  //   }\n  // },[])\n\n  return (\n    <>\n      <Nav />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Registration} />\n        <ProtectedRoute\n          exact\n          path=\"/profile\"\n          isAuth={loginStatus}\n          component={Profile}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/upload\"\n          isAuth={loginStatus}\n          component={Upload}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/offers\"\n          isAuth={loginStatus}\n          component={Offers}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/secondary\"\n          isAuth={loginStatus}\n          component={Secondary}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/membership\"\n          isAuth={loginStatus}\n          component={Membership}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/success\"\n          isAuth={loginStatus}\n          component={Success}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/failed\"\n          isAuth={loginStatus}\n          component={Failed}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/corriger\"\n          isAuth={loginStatus}\n          component={Corriger}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/consultation\"\n          isAuth={loginStatus}\n          component={Consultation}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/upcorriger\"\n          isAuth={loginStatus}\n          component={Uploadcore}\n        />\n        <Route component={NotFound} />\n      </Switch>\n      <CookieConsent\n        location=\"bottom\"\n        style={{ background: \"#2B373B\" }}\n        buttonText=\"Je Comprends !\"\n        debug={true}\n      >\n        Ce site utillise des cookies pour une meilleur experience utillisateurs.\n      </CookieConsent>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}