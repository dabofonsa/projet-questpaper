{"ast":null,"code":"import _objectSpread from\"/Users/carnelmegbleto/Desktop/questpaper/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/carnelmegbleto/Desktop/questpaper/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/carnelmegbleto/Desktop/questpaper/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/carnelmegbleto/Desktop/questpaper/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Registration=function Registration(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var onSubmit=function onSubmit(data){return setUserData(data);};var postData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var name,sirname,email,password,confirmPassword,year;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!userData){_context.next=21;break;}console.log(userData);_context.next=4;return userData.name;case 4:name=_context.sent;_context.next=7;return userData.sirname;case 7:sirname=_context.sent;_context.next=10;return userData.email;case 10:email=_context.sent;_context.next=13;return userData.password;case 13:password=_context.sent;_context.next=16;return userData.pwdrepeat;case 16:confirmPassword=_context.sent;_context.next=19;return userData.year;case 19:year=_context.sent;axios.post(\"http://localhost:5000/api/user/inscrire\",{sirname:sirname,name:name,email:email,password:password,confirmPassword:confirmPassword,year:year}).then(function(response){setMessage(response.data.message);console.log(response);});case 21:case\"end\":return _context.stop();}}},_callee);}));return function postData(){return _ref.apply(this,arguments);};}();useEffect(function(){postData();},[userData]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex relative flex-col p-4 items-center min-h-screen  dark:bg-black\",children:/*#__PURE__*/_jsx(\"div\",{className:\"shadow-lg m-auto\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"flex flex-col  bg-white p-8 justify-center min-h-full \",children:[/*#__PURE__*/_jsx(\"h1\",{children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-bold p-2\",htmlFor:\"adresse\",children:\"Ann\\xE9e d'etude:\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('year')),{},{className:\"p-2\",id:\"year\",name:\"year\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"License 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"License 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"License 3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Master 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"Master 2\"})]}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-bold p-2\",htmlFor:\"name\",children:\"Sirname:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"p-2 border-2 w-full\"},register(\"sirname\")),{},{type:\"text\",name:\"sirname\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-bold p-2\",htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"p-2 border-2 w-full\"},register(\"name\")),{},{type:\"text\",name:\"name\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-bold p-2\",htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"p-2 border-2 w-full\"},register(\"email\")),{},{type:\"email\",name:\"email\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-bold p-2\",htmlFor:\"password\",children:\"Mot de Passe:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"p-2 border-2 w-full\"},register(\"password\")),{},{type:\"password\",name:\"password\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-bold p-2\",htmlFor:\"password\",children:\"Confirmez le Mot de passe:\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"p-2 border-2 w-full\"},register(\"pwdrepeat\")),{},{type:\"password\",name:\"pwdrepeat\"}))]}),/*#__PURE__*/_jsx(\"input\",{className:\"cursor-pointer mx-auto mt-3 bg-gray-900 text-white p-3\",type:\"submit\",value:\"S'inscrire\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"p-5 font-cookie text-xl text-center\",children:[\"Pas Encore Inscrit?\",/*#__PURE__*/_jsx(\"span\",{className:\"text-green-800 hover: cursor-pointer hover:text-red-800\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\" Connectez-vous Maintenant.\"})})]})]})})});};export default Registration;","map":{"version":3,"sources":["/Users/carnelmegbleto/Desktop/questpaper/frontend/src/Pages/Registration.js"],"names":["React","useState","useEffect","Link","useForm","axios","Registration","userData","setUserData","message","setMessage","register","handleSubmit","onSubmit","data","postData","console","log","name","sirname","email","password","pwdrepeat","confirmPassword","year","post","then","response"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nconst Registration = () => {\n  const [userData, setUserData] = useState();\n\n  const [message, setMessage] = useState(\"\");\n\n  const { register, handleSubmit } = useForm();\n  const onSubmit = (data) => setUserData(data);\n\n  \n  \n  const postData = async () => {\n    if (userData) {\n      console.log(userData)\n      const name = await userData.name;\n      const sirname = await userData.sirname;\n      const email = await userData.email;\n      const password = await userData.password;\n      const confirmPassword = await userData.pwdrepeat;\n      const year = await userData.year;\n\n      axios\n        .post(\"http://localhost:5000/api/user/inscrire\", {\n          sirname: sirname,\n          name: name,\n          email: email,\n          password: password,\n          confirmPassword: confirmPassword,\n          year: year,\n        })\n        .then((response) => {\n          setMessage(response.data.message);\n          console.log(response);\n        });\n    }\n  };\n\n  useEffect(() => {\n    postData();\n  }, [userData]);\n\n  return (\n    <div className=\"flex relative flex-col p-4 items-center min-h-screen  dark:bg-black\">\n      <div className=\"shadow-lg m-auto\">\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n          className=\"flex flex-col  bg-white p-8 justify-center min-h-full \"\n        >\n          <h1>{message}</h1>\n          <div className=\"flex flex-col \">\n            <label className=\"font-bold p-2\" htmlFor=\"adresse\">\n              Année d'etude:\n            </label>\n            <select {...register('year')} className=\"p-2\" id=\"year\" name=\"year\">\n              <option value=\"1\">License 1</option>\n              <option value=\"2\">License 2</option>\n              <option value=\"3\">License 3</option>\n              <option value=\"4\">Master 1</option>\n              <option value=\"5\">Master 2</option>\n            </select>\n          </div>\n\n          <div className=\"flex flex-col \">\n            <label className=\"font-bold p-2\" htmlFor=\"name\">\n              Sirname:\n            </label>\n            <input\n              className=\"p-2 border-2 w-full\"\n              {...register(\"sirname\")}\n              type=\"text\"\n              name=\"sirname\"\n            />\n          </div>\n\n          <div className=\"flex flex-col \">\n            <label className=\"font-bold p-2\" htmlFor=\"name\">\n              Name:\n            </label>\n            <input\n              className=\"p-2 border-2 w-full\"\n              {...register(\"name\")}\n              type=\"text\"\n              name=\"name\"\n            />\n          </div>\n\n          <div className=\"flex flex-col \">\n            <label className=\"font-bold p-2\" htmlFor=\"email\">\n              Email:\n            </label>\n            <input\n              className=\"p-2 border-2 w-full\"\n              {...register(\"email\")}\n              type=\"email\"\n              name=\"email\"\n            />\n          </div>\n\n          <div className=\"flex flex-col \">\n            <label className=\"font-bold p-2\" htmlFor=\"password\">\n              Mot de Passe:\n            </label>\n            <input\n              className=\"p-2 border-2 w-full\"\n              {...register(\"password\")}\n              type=\"password\"\n              name=\"password\"\n            />\n          </div>\n\n          <div className=\"flex flex-col \">\n            <label className=\"font-bold p-2\" htmlFor=\"password\">\n              Confirmez le Mot de passe:\n            </label>\n            <input\n              className=\"p-2 border-2 w-full\"\n              {...register(\"pwdrepeat\")}\n              type=\"password\"\n              name=\"pwdrepeat\"\n            />\n          </div>\n\n          <input\n            className=\"cursor-pointer mx-auto mt-3 bg-gray-900 text-white p-3\"\n            type=\"submit\"\n            value=\"S'inscrire\"\n          />\n\n          <p className=\"p-5 font-cookie text-xl text-center\">\n            Pas Encore Inscrit?\n            <span className=\"text-green-800 hover: cursor-pointer hover:text-red-800\">\n              <Link to=\"/login\"> Connectez-vous Maintenant.</Link>\n            </span>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Registration;\n"]},"metadata":{},"sourceType":"module"}