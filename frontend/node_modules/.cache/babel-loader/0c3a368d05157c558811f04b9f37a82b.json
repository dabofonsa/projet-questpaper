{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _events = require('events');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar styles = {\n  progressWrapper: {\n    height: '10px',\n    marginTop: '10px',\n    width: '400px',\n    float: 'left',\n    overflow: 'hidden',\n    backgroundColor: '#f5f5f5',\n    borderRadius: '4px',\n    WebkitBoxShadow: 'inset 0 1px 2px rgba(0,0,0,.1)',\n    boxShadow: 'inset 0 1px 2px rgba(0,0,0,.1)'\n  },\n  progressBar: {\n    float: 'left',\n    width: '0',\n    height: '100%',\n    fontSize: '12px',\n    lineHeight: '20px',\n    color: '#fff',\n    textAlign: 'center',\n    backgroundColor: '#337ab7',\n    WebkitBoxShadow: 'inset 0 -1px 0 rgba(0,0,0,.15)',\n    boxShadow: 'inset 0 -1px 0 rgba(0,0,0,.15)',\n    WebkitTransition: 'width .6s ease',\n    Otransition: 'width .6s ease',\n    transition: 'width .6s ease'\n  },\n  cancelButton: {\n    marginTop: '5px',\n    WebkitAppearance: 'none',\n    padding: 0,\n    cursor: 'pointer',\n    background: '0 0',\n    border: 0,\n    float: 'left',\n    fontSize: '21px',\n    fontWeight: 700,\n    lineHeight: 1,\n    color: '#000',\n    textShadow: '0 1px 0 #fff',\n    filter: 'alpha(opacity=20)',\n    opacity: '.2'\n  }\n};\n\nvar FileUploadProgress = function (_React$Component) {\n  _inherits(FileUploadProgress, _React$Component);\n\n  function FileUploadProgress(props) {\n    _classCallCheck(this, FileUploadProgress);\n\n    var _this = _possibleConstructorReturn(this, (FileUploadProgress.__proto__ || Object.getPrototypeOf(FileUploadProgress)).call(this, props));\n\n    _this.proxy = new _events.EventEmitter();\n    _this.state = {\n      progress: -1,\n      hasError: false\n    };\n    return _this;\n  }\n\n  _createClass(FileUploadProgress, [{\n    key: 'cancelUpload',\n    value: function cancelUpload() {\n      this.proxy.emit('abort');\n      this.setState({\n        progress: -1,\n        hasError: false\n      });\n    }\n  }, {\n    key: 'onSubmit',\n    value: function onSubmit(e) {\n      e.preventDefault();\n      this.setState({\n        progress: 0,\n        hasError: false\n      }, this._doUpload);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var formElement = this.props.formRenderer(this.onSubmit.bind(this));\n      var progessElement = this.props.progressRenderer(this.state.progress, this.state.hasError, this.cancelUpload.bind(this));\n      return _react2.default.createElement('div', null, formElement, progessElement);\n    }\n  }, {\n    key: '_getFormData',\n    value: function _getFormData() {\n      if (this.props.formGetter) {\n        return this.props.formGetter();\n      }\n\n      return new FormData(_reactDom2.default.findDOMNode(this.refs.form));\n    }\n  }, {\n    key: '_doUpload',\n    value: function _doUpload() {\n      var _this2 = this;\n\n      var form = this._getFormData();\n\n      var req = new XMLHttpRequest();\n      req.open('POST', this.props.url);\n      req.addEventListener('load', function (e) {\n        _this2.proxy.removeAllListeners(['abort']);\n\n        var newState = {\n          progress: 100\n        };\n\n        if (req.status >= 200 && req.status <= 299) {\n          _this2.setState(newState, function () {\n            _this2.props.onLoad(e, req);\n          });\n        } else {\n          newState.hasError = true;\n\n          _this2.setState(newState, function () {\n            _this2.props.onError(e, req);\n          });\n        }\n      }, false);\n      req.addEventListener('error', function (e) {\n        _this2.setState({\n          hasError: true\n        }, function () {\n          _this2.props.onError(e, req);\n        });\n      }, false);\n      req.upload.addEventListener('progress', function (e) {\n        var progress = 0;\n\n        if (e.total !== 0) {\n          progress = parseInt(e.loaded / e.total * 100, 10);\n        }\n\n        _this2.setState({\n          progress: progress\n        }, function () {\n          _this2.props.onProgress(e, req, progress);\n        });\n      }, false);\n      req.addEventListener('abort', function (e) {\n        _this2.setState({\n          progress: -1\n        }, function () {\n          _this2.props.onAbort(e, req);\n        });\n      }, false);\n      this.proxy.once('abort', function () {\n        req.abort();\n      });\n      this.props.beforeSend(req).send(this.props.formCustomizer(form));\n    }\n  }]);\n\n  return FileUploadProgress;\n}(_react2.default.Component);\n\nFileUploadProgress.propTypes = {\n  url: _propTypes2.default.string.isRequired,\n  formGetter: _propTypes2.default.func,\n  formRenderer: _propTypes2.default.func,\n  progressRenderer: _propTypes2.default.func,\n  formCustomizer: _propTypes2.default.func,\n  beforeSend: _propTypes2.default.func,\n  onProgress: _propTypes2.default.func,\n  onLoad: _propTypes2.default.func,\n  onError: _propTypes2.default.func,\n  onAbort: _propTypes2.default.func\n};\nFileUploadProgress.defaultProps = {\n  formRenderer: function formRenderer(onSubmit) {\n    return _react2.default.createElement('form', {\n      className: '_react_fileupload_form_content',\n      ref: 'form',\n      method: 'post',\n      onSubmit: onSubmit\n    }, _react2.default.createElement('div', null, _react2.default.createElement('input', {\n      type: 'file',\n      name: 'file'\n    })), _react2.default.createElement('input', {\n      type: 'submit'\n    }));\n  },\n  progressRenderer: function progressRenderer(progress, hasError, cancelHandler) {\n    if (hasError || progress > -1) {\n      var barStyle = (0, _objectAssign2.default)({}, styles.progressBar);\n      barStyle.width = progress + '%';\n\n      var message = _react2.default.createElement('span', null, 'Uploading ...');\n\n      if (hasError) {\n        barStyle.backgroundColor = '#d9534f';\n        message = _react2.default.createElement('span', {\n          style: {\n            color: '#a94442'\n          }\n        }, 'Failed to upload ...');\n      }\n\n      if (progress === 100) {\n        message = _react2.default.createElement('span', null, 'Successfully uploaded');\n      }\n\n      return _react2.default.createElement('div', {\n        className: '_react_fileupload_progress_content'\n      }, _react2.default.createElement('div', {\n        style: styles.progressWrapper\n      }, _react2.default.createElement('div', {\n        className: '_react_fileupload_progress_bar',\n        style: barStyle\n      })), _react2.default.createElement('button', {\n        className: '_react_fileupload_progress_cancel',\n        style: styles.cancelButton,\n        onClick: cancelHandler\n      }, _react2.default.createElement('span', null, '\\xD7')), _react2.default.createElement('div', {\n        style: {\n          clear: 'left'\n        }\n      }, message));\n    }\n\n    return '';\n  },\n  formCustomizer: function formCustomizer(form) {\n    return form;\n  },\n  beforeSend: function beforeSend(request) {\n    return request;\n  },\n  onProgress: function onProgress(e, request, progress) {},\n  onLoad: function onLoad(e, request) {},\n  onError: function onError(e, request) {},\n  onAbort: function onAbort(e, request) {}\n};\nexports.default = FileUploadProgress;","map":{"version":3,"sources":["/Users/carnelmegbleto/Desktop/questpaper/frontend/node_modules/react-fileupload-progress/lib/components/FileUploadProgress.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_events","require","_react","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactDom","_reactDom2","_objectAssign","_objectAssign2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","styles","progressWrapper","height","marginTop","width","float","overflow","backgroundColor","borderRadius","WebkitBoxShadow","boxShadow","progressBar","fontSize","lineHeight","color","textAlign","WebkitTransition","Otransition","transition","cancelButton","WebkitAppearance","padding","cursor","background","border","fontWeight","textShadow","filter","opacity","FileUploadProgress","_React$Component","_this","getPrototypeOf","proxy","EventEmitter","state","progress","hasError","cancelUpload","emit","setState","onSubmit","e","preventDefault","_doUpload","render","formElement","formRenderer","bind","progessElement","progressRenderer","createElement","_getFormData","formGetter","FormData","findDOMNode","refs","form","_this2","req","XMLHttpRequest","open","url","addEventListener","removeAllListeners","newState","status","onLoad","onError","upload","total","parseInt","loaded","onProgress","onAbort","once","abort","beforeSend","send","formCustomizer","Component","propTypes","string","isRequired","func","defaultProps","className","ref","method","type","name","cancelHandler","barStyle","message","style","onClick","clear","request"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('events');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar styles = {\n  progressWrapper: {\n    height: '10px',\n    marginTop: '10px',\n    width: '400px',\n    float: 'left',\n    overflow: 'hidden',\n    backgroundColor: '#f5f5f5',\n    borderRadius: '4px',\n    WebkitBoxShadow: 'inset 0 1px 2px rgba(0,0,0,.1)',\n    boxShadow: 'inset 0 1px 2px rgba(0,0,0,.1)'\n  },\n  progressBar: {\n    float: 'left',\n    width: '0',\n    height: '100%',\n    fontSize: '12px',\n    lineHeight: '20px',\n    color: '#fff',\n    textAlign: 'center',\n    backgroundColor: '#337ab7',\n    WebkitBoxShadow: 'inset 0 -1px 0 rgba(0,0,0,.15)',\n    boxShadow: 'inset 0 -1px 0 rgba(0,0,0,.15)',\n    WebkitTransition: 'width .6s ease',\n    Otransition: 'width .6s ease',\n    transition: 'width .6s ease'\n  },\n  cancelButton: {\n    marginTop: '5px',\n    WebkitAppearance: 'none',\n    padding: 0,\n    cursor: 'pointer',\n    background: '0 0',\n    border: 0,\n    float: 'left',\n    fontSize: '21px',\n    fontWeight: 700,\n    lineHeight: 1,\n    color: '#000',\n    textShadow: '0 1px 0 #fff',\n    filter: 'alpha(opacity=20)',\n    opacity: '.2'\n  }\n};\n\nvar FileUploadProgress = function (_React$Component) {\n  _inherits(FileUploadProgress, _React$Component);\n\n  function FileUploadProgress(props) {\n    _classCallCheck(this, FileUploadProgress);\n\n    var _this = _possibleConstructorReturn(this, (FileUploadProgress.__proto__ || Object.getPrototypeOf(FileUploadProgress)).call(this, props));\n\n    _this.proxy = new _events.EventEmitter();\n    _this.state = {\n      progress: -1,\n      hasError: false\n    };\n    return _this;\n  }\n\n  _createClass(FileUploadProgress, [{\n    key: 'cancelUpload',\n    value: function cancelUpload() {\n      this.proxy.emit('abort');\n      this.setState({\n        progress: -1,\n        hasError: false\n      });\n    }\n  }, {\n    key: 'onSubmit',\n    value: function onSubmit(e) {\n      e.preventDefault();\n      this.setState({\n        progress: 0,\n        hasError: false\n      }, this._doUpload);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var formElement = this.props.formRenderer(this.onSubmit.bind(this));\n      var progessElement = this.props.progressRenderer(this.state.progress, this.state.hasError, this.cancelUpload.bind(this));\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        formElement,\n        progessElement\n      );\n    }\n  }, {\n    key: '_getFormData',\n    value: function _getFormData() {\n      if (this.props.formGetter) {\n        return this.props.formGetter();\n      }\n      return new FormData(_reactDom2.default.findDOMNode(this.refs.form));\n    }\n  }, {\n    key: '_doUpload',\n    value: function _doUpload() {\n      var _this2 = this;\n\n      var form = this._getFormData();\n      var req = new XMLHttpRequest();\n      req.open('POST', this.props.url);\n\n      req.addEventListener('load', function (e) {\n        _this2.proxy.removeAllListeners(['abort']);\n        var newState = { progress: 100 };\n        if (req.status >= 200 && req.status <= 299) {\n          _this2.setState(newState, function () {\n            _this2.props.onLoad(e, req);\n          });\n        } else {\n          newState.hasError = true;\n          _this2.setState(newState, function () {\n            _this2.props.onError(e, req);\n          });\n        }\n      }, false);\n\n      req.addEventListener('error', function (e) {\n        _this2.setState({\n          hasError: true\n        }, function () {\n          _this2.props.onError(e, req);\n        });\n      }, false);\n\n      req.upload.addEventListener('progress', function (e) {\n        var progress = 0;\n        if (e.total !== 0) {\n          progress = parseInt(e.loaded / e.total * 100, 10);\n        }\n        _this2.setState({\n          progress: progress\n        }, function () {\n          _this2.props.onProgress(e, req, progress);\n        });\n      }, false);\n\n      req.addEventListener('abort', function (e) {\n        _this2.setState({\n          progress: -1\n        }, function () {\n          _this2.props.onAbort(e, req);\n        });\n      }, false);\n\n      this.proxy.once('abort', function () {\n        req.abort();\n      });\n\n      this.props.beforeSend(req).send(this.props.formCustomizer(form));\n    }\n  }]);\n\n  return FileUploadProgress;\n}(_react2.default.Component);\n\nFileUploadProgress.propTypes = {\n  url: _propTypes2.default.string.isRequired,\n  formGetter: _propTypes2.default.func,\n  formRenderer: _propTypes2.default.func,\n  progressRenderer: _propTypes2.default.func,\n  formCustomizer: _propTypes2.default.func,\n  beforeSend: _propTypes2.default.func,\n  onProgress: _propTypes2.default.func,\n  onLoad: _propTypes2.default.func,\n  onError: _propTypes2.default.func,\n  onAbort: _propTypes2.default.func\n};\n\nFileUploadProgress.defaultProps = {\n  formRenderer: function formRenderer(onSubmit) {\n    return _react2.default.createElement(\n      'form',\n      { className: '_react_fileupload_form_content', ref: 'form', method: 'post', onSubmit: onSubmit },\n      _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement('input', { type: 'file', name: 'file' })\n      ),\n      _react2.default.createElement('input', { type: 'submit' })\n    );\n  },\n\n  progressRenderer: function progressRenderer(progress, hasError, cancelHandler) {\n    if (hasError || progress > -1) {\n      var barStyle = (0, _objectAssign2.default)({}, styles.progressBar);\n      barStyle.width = progress + '%';\n\n      var message = _react2.default.createElement(\n        'span',\n        null,\n        'Uploading ...'\n      );\n      if (hasError) {\n        barStyle.backgroundColor = '#d9534f';\n        message = _react2.default.createElement(\n          'span',\n          { style: { color: '#a94442' } },\n          'Failed to upload ...'\n        );\n      }\n      if (progress === 100) {\n        message = _react2.default.createElement(\n          'span',\n          null,\n          'Successfully uploaded'\n        );\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: '_react_fileupload_progress_content' },\n        _react2.default.createElement(\n          'div',\n          { style: styles.progressWrapper },\n          _react2.default.createElement('div', { className: '_react_fileupload_progress_bar', style: barStyle })\n        ),\n        _react2.default.createElement(\n          'button',\n          {\n            className: '_react_fileupload_progress_cancel',\n            style: styles.cancelButton,\n            onClick: cancelHandler },\n          _react2.default.createElement(\n            'span',\n            null,\n            '\\xD7'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { style: { clear: 'left' } },\n          message\n        )\n      );\n    }\n    return '';\n  },\n\n  formCustomizer: function formCustomizer(form) {\n    return form;\n  },\n  beforeSend: function beforeSend(request) {\n    return request;\n  },\n  onProgress: function onProgress(e, request, progress) {},\n  onLoad: function onLoad(e, request) {},\n  onError: function onError(e, request) {},\n  onAbort: function onAbort(e, request) {}\n};\n\nexports.default = FileUploadProgress;"]},"metadata":{},"sourceType":"script"}